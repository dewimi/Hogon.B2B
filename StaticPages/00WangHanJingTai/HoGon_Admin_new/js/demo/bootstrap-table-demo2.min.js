$(function(){
        $("#exampleTableEvents").bootstrapTable({
            url: "js/demo/bootstrap_table_test.json",
            search: !0,
            pagination: !0,
            showRefresh: !0,
            showToggle: !0,
            showColumns: !0,
            showRefresh:0,
            iconSize: "outline",
            toolbar: "#exampleTableEventsToolbar",
            icons: {refresh: "glyphicon-repeat", toggle: "glyphicon-list-alt",columns:"glyphicon-list"},
            columns:[
                {checkbox:true},
                {title:'序号',align:"center",
                    formatter: function (value, row, index) {
                        return index+1;
                    }
                },
                {title: 'id',field: 'id',align: 'center',valign: 'middle'},
                {title: '名称',field: 'name',align: 'center',valign: 'middle',width:300,class:"text_overflow"},
                {title: '价格',field: 'price', align: 'center',valign: 'middle'},
                {title: '操作',field: '#',align: 'center',valign: 'middle',
                    formatter:function(value,row,index){
                        var e = '<a href="form_basic.html" mce_href="#" data-fieldid=\"'+ row.id+'\" data-fieldname=\"'+row.name+'\" data-fieldprice=\"'+row.price+'\"><i class="fa fa-pencil"></i></a> ';
                        var d = '<a href="javascript:void(0);" mce_href="#" data-fieldid=\"'+ row.id+'\" onclick="showDelete()"><i class="fa fa-trash"></i></a> ';
                        return e+d;
                    }
                }
            ]

        });
        //var e = o("#examplebtTableEventsResult");
        //o("#exampleTableEvents").on("all.bs.table", function (e, t, o) {
        //}).on("click-row.bs.table", function () {
        //    e.text("Event: click-row.bs.table")
        //}).on("dbl-click-row.bs.table", function () {
        //    alert('111')
        //}).on("sort.bs.table", function () {
        //    e.text("Event: sort.bs.table")
        //}).on("check.bs.table", function () {
        //    e.text("Event: check.bs.table")
        //}).on("uncheck.bs.table", function () {
        //    e.text("Event: uncheck.bs.table")
        //}).on("check-all.bs.table", function () {
        //    e.text("Event: check-all.bs.table")
        //}).on("uncheck-all.bs.table", function () {
        //    e.text("Event: uncheck-all.bs.table")
        //}).on("load-success.bs.table", function () {
        //    e.text("Event: load-success.bs.table")
        //}).on("load-error.bs.table", function () {
        //    e.text("Event: load-error.bs.table")
        //}).on("column-switch.bs.table", function () {
        //    e.text("Event: column-switch.bs.table")
        //}).on("page-change.bs.table", function () {
        //    e.text("Event: page-change.bs.table")
        //}).on("search.bs.table", function () {
        //    e.text("Event: search.bs.table")
        //})

    $("#myModalTable").on('show.bs.modal',function(event){
        var a = $(event.relatedTarget)
        var id = a.data('fieldid'), name = a.data('fieldname'), price = a.data('fieldprice');
        var modal = $(this);
        modal.find("#fieldID").val(id);
        modal.find("#fieldName").val(name);
        modal.find("#fieldPrice").val(price);
    });
})
function showDelete(){
    var id = $(this).data('fieldid');
    swal({
            title: "您确定要删除这条信息吗",
            text: " ",
            type: "warning",
            showCancelButton: true,
            cancelButtonText: "取消",
            confirmButtonColor: "#DD6B55",
            confirmButtonText: "删除",
            closeOnConfirm: false
        },
        function (isConfirm) {
            if (isConfirm) {
                swal("删除成功！", "您已删除了这条信息。", "success");
            } else {

            }
        });
};